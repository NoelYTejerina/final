<script>
    // Datos de ejemplo (reemplaza con los datos reales desde el backend)
    const datosLikes = {{ datos_likes|json_encode|raw }};
    const datosReproducciones = {{ datos_reproducciones|json_encode|raw }};
    const cancionesMasReproducidas = {{ canciones_mas_reprod|json_encode|raw }};
    const distribucionEdades = {{ edad_datos|json_encode|raw }};

    // Configuración de gráficos (usa Chart.js)
    new Chart(document.getElementById('LikesChart'), {
        type: 'bar',
        data: {
            labels: datosLikes.map(item => item.playlist),
            datasets: [{
                label: 'Likes',
                data: datosLikes.map(item => item.totalLikes),
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        }
    });

    new Chart(document.getElementById('reproduccionesChart'), {
        type: 'bar',
        data: {
            labels: datosReproducciones.map(item => item.playlist),
            datasets: [{
                label: 'Reproducciones',
                data: datosReproducciones.map(item => item.totalReproducciones),
                backgroundColor: 'rgba(153, 102, 255, 0.2)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
            }]
        }
    });

    new Chart(document.getElementById('reproduccionesCancionChart'), {
        type: 'pie',
        data: {
            labels: cancionesMasReproducidas.map(item => item.cancion),
            datasets: [{
                label: 'Reproducciones',
                data: cancionesMasReproducidas.map(item => item.reproduccionesXcancion),
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        }
    });

    new Chart(document.getElementById('EdadesChart'), {
        type: 'pie',
        data: {
            labels: distribucionEdades.map(item => item.rango_edad),
            datasets: [{
                label: 'Distribución de edades',
                data: distribucionEdades.map(item => item.count), // Asegúrate de contar usuarios por rango
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        }
    });
</script>